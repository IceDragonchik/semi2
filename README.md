# semi2
**Вариант N % 4 = 1** 

**Как всё работает:**

1. **Добавление элемента:**  
   Сначала считается хеш ключа — книги. Если место уже занято, и там уже такой ключ, просто обновляем значение. Если ключ другой — идём дальше по таблице, пока не найдём свободное место .  
   Если таблица уже почти заполнена  +- 70%, её размер увеличивается вдвое.

2. **Поиск элемента:**  
   Также начинаем с расчёта хеша. Потом проверяем ячейки по порядку: если нашли нужный ключ — возвращаем значение. Если натыкаемся на пустое место, значит, элемента нет.

3. **Удаление элемента:**  
   Похоже на поиск. Только когда находим нужный элемент, мы его не удаляем полностью, а просто помечаем как удалённый — чтобы не нарушить работу пробирования.

4. **Рехеширование:**  
   Когда таблица увеличивается, создаётся новая, большего размера. Все элементы пересчитываются и заново добавляются в новую таблицу, чтобы сохранить корректность хешей.

**Почему выбран именно такой подход:**

- **Хеш-функция** складываются коды символов названия книги, прибавляется год, и всё это делится на размер таблицы.

- **Линейное пробирование** Преимущество — не требует дополнительной памяти. Недостаток — если таблица сильно заполнена, поиск становится медленнее, так как элементы могут скапливаться в "кучки".

- **Удаление не физическое, а логическое** — это позволяет не нарушать последовательность пробирования. То есть ячейка остаётся в таблице, но помечается как "удалённая".

**Что используется внутри:**

- Вектор структур, каждая из которых — одна ячейка таблицы. Это удобно, потому что доступ по индексу происходит очень быстро, и вектор можно легко увеличить.

- Переменные типа `int` для хранения размера и количества элементов. 

- Ключ — это объект книги. В нём есть год для хеша, а также название и автор, по которым происходит сравнение.

- Два булевых поля — одно показывает, занята ли ячейка, другое — была ли она удалена. Это нужно, чтобы правильно обрабатывать добавления, поиски и удаления.

  
<img width="745" alt="image" src="https://github.com/user-attachments/assets/dfce3288-e8aa-4f85-b222-37b1f8f1eca2" />

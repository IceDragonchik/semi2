# semi2
вариант N % 4 = 1 
### **Алгоритм работы хеш-таблицы**  
Эта реализация использует **метод цепочек с открытой адресацией** и **линейное пробирование**  

#### **Основные шаги:**  
1. **Вставка (`add`)**  
   - Вычисляется хеш ключа (`calculateHash`).  
   - Если ячейка занята:  
     - Если ключ совпадает → значение обновляется.  
     - Если нет → ищется следующая свободная ячейка (**линейное пробирование**).  
   - Если таблица заполнена на **70%** → размер увеличивается в 2 раза (`resizeTable`).  

2. **Поиск (`find`)**  
   - Вычисляется хеш ключа.  
   - Проверяются ячейки по порядку:  
     - Если нашли ключ → возвращается указатель на значение.  
     - Если дошли до пустой и неудалённой ячейки → элемента нет (`nullptr`).  

3. **Удаление (`remove`)**  
   - Аналогично поиску, но найденный элемент помечается как `deleted` (логическое удаление).  

4. **Рехеширование (`resizeTable`)**  
   - Создается новая таблица в **2 раза больше**.  
   - Все элементы из старой таблицы пересчитываются и вставляются заново.  

### **Обоснование выбранных методов**  

#### **1. Хеш-функция (`calculateHash`)**  
- **Простая, но неидеальная**:  
  - Суммирует ASCII-коды символов названия книги.  
  - Добавляет год издания для уменьшения коллизий.  
  - Делит на размер таблицы (`% tableSize`).  
- **Почему так?**  
  - Начинающему проще понять суммирование, чем полиномиальные хеши.  
  - Год добавляет вариативность (если названия похожи).  

#### **2. Линейное пробирование**  
- **Плюсы**:  
  - Простота реализации (просто `(index + 1) % size`).  
  - Не требует дополнительной памяти (в отличие от цепочек).  
- **Минусы**:  
  - Возможна **кластеризация** (группировка элементов).  
  - При большом заполнении скорость падает.  

#### **3. Логическое удаление**  
- Элементы помечаются как `isDeleted`, но не удаляются физически.  
    
### **Выбор типов данных**  

1. **`vector<TableEntry>`**  
   - Используется для хранения данных, так как:  
     - Быстрый доступ по индексу (`O(1)`).  
     - Динамически расширяется (`resizeTable`).  

2. **`int` для размеров (`tableSize`, `count`)**  
   - Упрощенный вариант (в реальном коде лучше `size_t`).  

3. **`Book` как ключ**  
   - Содержит:  
     - `year` (int) — для вариативности хеша.  
     - `title`, `author` (string) — основные поля для сравнения.  

4. **`bool isFilled` и `isDeleted`**  
   - Нужны для:  
     - Отличия пустых ячеек от заполненных.  
     - Поддержки логического удаления.  
